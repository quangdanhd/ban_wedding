(()=>{var m=(n,c,o)=>new Promise((s,i)=>{var t=r=>{try{d(o.next(r))}catch(l){i(l)}},u=r=>{try{d(o.throw(r))}catch(l){i(l)}},d=r=>r.done?s(r.value):Promise.resolve(r.value).then(t,u);d((o=o.apply(n,c)).next())});var e=document.querySelector(".wish .wish-form"),h=e.querySelector("button.btn-submit"),b=e.querySelector("button.btn-loading"),y=e.querySelector("button.btn-done"),S=e.querySelector("button.btn-error"),w=e.querySelector("input.name"),f=e.querySelector("textarea.wish");h.addEventListener("click",function(n){return m(this,null,function*(){if(n.preventDefault(),e.classList.remove("was-validated"),!e.checkValidity()){e.classList.add("was-validated");return}if(a(b),(yield p(w.value,f.value)).error){a(S),L();return}a(y),w.value="",f.value="",L()})});function p(n,c){return new Promise(o=>{let s=new FormData;s.append("name",n),s.append("wish",c),fetch("https://script.google.com/macros/s/AKfycbwPtiIwnSJWvUl5hNC4wcI9LEnStC6Vw7WFcYTsIQKQMWLD75SqFgHLyYLesEXFVNFVUQ/exec",{method:"POST",body:s}).then(t=>t.ok?t:t.text().then(u=>({error:u}))).then(t=>{o(t)}).catch(t=>{o({error:t.message})})})}function a(n){h.classList.add("d-none"),b.classList.add("d-none"),y.classList.add("d-none"),S.classList.add("d-none"),n.classList.remove("d-none")}function L(){setTimeout(()=>{a(h)},2500)}})();
