(()=>{var h=(t,l,e)=>new Promise((a,n)=>{var o=c=>{try{s(e.next(c))}catch(r){n(r)}},i=c=>{try{s(e.throw(c))}catch(r){n(r)}},s=c=>c.done?a(c.value):Promise.resolve(c.value).then(o,i);s((e=e.apply(t,l)).next())});p().then();function p(){return h(this,null,function*(){let l=yield f("https://docs.google.com/spreadsheets/d/1FhZaFJ5HCaEHl97ZyFTBWu3ZQ34B5Std-WZL1rhfi4U/export?format=csv&gid=0");if(l.error)return;let e=w(l);console.log(e);let a=document.querySelector("#carouselWish"),n=a.querySelector(".carousel-inner");window.innerWidth<768?(n.replaceWith(E(e)),e.length>1&&(a.querySelector(".carousel-control-prev").classList.remove("d-none"),a.querySelector(".carousel-control-next").classList.remove("d-none"))):(n.replaceWith(N(e)),e.length>3&&(a.querySelector(".carousel-control-prev").classList.remove("d-none"),a.querySelector(".carousel-control-next").classList.remove("d-none")))})}function f(t){return new Promise(l=>{fetch(t,{method:"GET"}).then(function(e){return e.text()}).then(function(e){l(e)}).catch(function(){l({error:"API: Network request failed."})})})}function g(t){let l="",e=[""],a=[e],n=0,o=0,i=!0,s;for(s of t)s==='"'?(i&&s===l&&(e[n]+=s),i=!i):s===","&&i?s=e[++n]="":s===`
`&&i?(l==="\r"&&(e[n]=e[n].slice(0,-1)),e=a[++o]=[s=""],n=0):e[n]+=s,l=s;return a}function w(t){let l=g(t);l.shift();let e=[];return l.forEach(a=>{if(!a[1]||!a[2]||!a[4])return;let n=a[5]?a[5].trim():null;e.push({name:a[1].trim(),wish:a[2].trim(),avatarUrl:n})}),C(e)}function C(t){for(let l=t.length-1;l>0;l--){let e=Math.floor(Math.random()*(l+1));[t[l],t[e]]=[t[e],t[l]]}return t}function E(t){let l=document.createElement("div");l.className="carousel-inner";for(let e=0;e<t.length;e++){let a=document.createElement("div");a.className=e===0?"carousel-item active":"carousel-item";let n=document.createElement("div");n.className="row g-0 mb-2";let o=document.createElement("div");o.className="col-12 col-lg-2";let i=document.createElement("div");i.className="col-12 col-lg-8";let s=document.createElement("div");s.className="h-100";let c=document.createElement("div");c.className="p-4 shadow rounded-3 h-100 position-relative";let r=document.createElement("div");r.className="text-center mt-3 mb-5";let m=t[e].avatarUrl?t[e].avatarUrl:"images/user.png";r.innerHTML=`<img class="wish-avatar" src="${m}" alt="">`;let u=document.createElement("div");u.className="fst-italic text-justify break-spaces wish-content",u.textContent=t[e].wish;let d=document.createElement("div");d.className="wish-guest-name",d.innerHTML=`<div class="d-flex small">
      <div class="me-3">
        <img class="glass-icon" src="images/glass.png" alt="">
      </div>
      <div class="fw-bold d-flex middle">
        <div>
          <div>L\u1EDDi ch\xFAc t\u1EEB</div>
          <div>${t[e].name}</div>
      </div>
    </div>`,l.appendChild(a),a.appendChild(n),n.appendChild(o),n.appendChild(i),i.appendChild(s),s.appendChild(c),c.appendChild(r),c.appendChild(u),c.appendChild(d)}return l}function N(t){let l=document.createElement("div");l.className="carousel-inner";for(let e=0;e<t.length&&!(e>=t.length);e+=3){let a=document.createElement("div");a.className=e===0?"carousel-item active":"carousel-item";let n=document.createElement("div");n.className="row mb-2";for(let o=0;o<3;o++){let i=e+o;if(i<t.length){let s=document.createElement("div");s.className="col-12 col-lg-4";let c=document.createElement("div");c.className="h-100";let r=document.createElement("div");r.className="p-4 shadow rounded-3 h-100 position-relative";let m=document.createElement("div");m.className="text-center mt-3 mb-5";let u=t[i].avatarUrl?t[i].avatarUrl:"images/user.png";m.innerHTML=`<img class="wish-avatar" src="${u}" alt="">`;let d=document.createElement("div");d.className="fst-italic text-justify break-spaces wish-content",d.textContent=t[i].wish;let v=document.createElement("div");v.className="wish-guest-name",v.innerHTML=`<div class="d-flex small">
          <div class="me-3">
            <img class="glass-icon" src="images/glass.png" alt="">
          </div>
          <div class="fw-bold d-flex middle">
            <div>
              <div>L\u1EDDi ch\xFAc t\u1EEB</div>
              <div>${t[i].name}</div>
          </div>
        </div>`,n.appendChild(s),s.appendChild(c),c.appendChild(r),r.appendChild(m),r.appendChild(d),r.appendChild(v)}}a.appendChild(n),l.appendChild(a)}return l}})();
